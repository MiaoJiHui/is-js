<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>is.js : Unit Tests</title>

		<link rel="stylesheet" href="./qunit/qunit/qunit.css" />
		<script src="./qunit/qunit/qunit.js"></script>
		<script src="https://raw.github.com/scottrabin/is-js/master/is.js"></script>

		<script>
			// various types to test
			var TEST_OBJECTS = {
				STRING_EMPTY    : "",
				STRING_NONEMPTY : "a string",
				STRING_NUMBER   : "123",
				STRING_FLOAT    : "5.8e6",

				NUMBER_ZERO     : 0,
				NUMBER_POSITIVE : 1000,
				NUMBER_NEGATIVE : -1000,
				NUMBER_FLOAT    : 1.5,
				NUMBER_INFINITE : Infinity,

				BOOLEAN_TRUE  : true,
				BOOLEAN_FALSE : false,

				NULL : null,

				UNDEFINED : undefined,

				FUNCTION : function(){},

				ARRAY_LITERAL_EMPTY    : [],
				ARRAY_LITERAL_NONEMPTY : [1, 2, 3],
				ARRAY_NEW_EMPTY        : new Array(),
				ARRAY_NEW_NONEMPTY     : new Array(3),

				OBJECT_LITERAL_EMPTY    : {},
				OBJECT_LITERAL_NONEMPTY : {a: 1, b: 2}
			};

			/**
			 * Test all items in TEST_OBJECTS, using the given function.
			 * Correctness is determined by `pass`; either it's a function that
			 * takes the current test object name, or an array of valid TEST_OBJECTS
			 * property names.
			 *
			 * @param {function(*): boolean} func The `is.` function to test
			 * @param {(function(string, *): boolean|Array.<string>)} pass A function to test
			 *        for whether or not a given test case should be `true` or `false`, or
			 *        a list of test cases that should pass.
			 */
			function testObjects(type, func, pass) {
				var isCorrectType, testValue;
				for (testValue in TEST_OBJECTS) {
					isCorrectType = (is.fn(pass) ? pass(testValue, TEST_OBJECTS[testValue]) : pass.indexOf(testValue) > -1);

					equal(
						func(TEST_OBJECTS[testValue]),
						isCorrectType,
						testValue + (isCorrectType ? ' is a ' : ' is not a ') + type
					);
				}
			}

			test("is.string", function() {
				testObjects('string', is.string, function(name, val) {
					return /^string/i.test(name);
				});
			});

			test("is.number", function() {
				testObjects('number', is.number, function(name, val) {
					return /^number/i.test(name);
				});
			});

			test("is.bool", function() {
				testObjects('boolean', is.bool, function(name, val) {
					return /^boolean/i.test(name);
				});
			});

			test("is.fn", function() {
				testObjects('function', is.fn, ['FUNCTION']);
			});

			test("is.array", function() {
				testObjects('array', is.array, function(name, val) {
					return /^array/i.test(name);
				});
			});

			test("is.object", function() {
				testObjects('object', is.object, [
					'FUNCTION',
					'ARRAY_LITERAL_EMPTY',
					'ARRAY_LITERAL_NONEMPTY',
					'ARRAY_NEW_EMPTY',
					'ARRAY_NEW_NONEMPTY',
					'OBJECT_LITERAL_EMPTY',
					'OBJECT_LITERAL_NONEMPTY'
				]);
			});
		</script>

	</head>
	<body>
		<div id="qunit"></div>
	</body>
</html>
